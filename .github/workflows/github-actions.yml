name: footballmarketplace
run-name: Backend and Frontend tests for footballmarketplace ğŸš€
on: [push, pull_request]
jobs:
  buildandpishdocker:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v3
      - run: echo "ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - name: Build and run docker container
        working-directory: ./
      # - name: "Login to Docker Hub"
      #   uses: docker/login-action@v2
      #   with:
      #       username: ${{ secrets.DOCKERHUB_USERNAME }}
      #       password: ${{ secrets.DOCKERHUB_TOKEN }}
      # - name: "Set up Docker Buildx"
      #   uses: docker/setup-buildx-action@v2
      # - name: "Build and push"
      #   uses: docker/build-push-action@v3
      #   with:
      #       context: ./backend
      #       file: ./Dockerfile
      #       push: true
      #       tags: ${{ secrets.DOCKERHUB_USERNAME }}/clockbox:latest
      # - name: "Build and run Docker Container"
      #   working-directory: ./backend
      #   run: docker build -q .
      # - run: echo "ğŸ This job's status is ${{ job.status }}."
  buildandrunlocally:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v3
      - run: echo "ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - name: Build and run 
        run: |
          docker build . -t football
          docker run --rm  --name football football
          docker stop football
 